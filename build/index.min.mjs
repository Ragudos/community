import{a as l,b as a}from"./chunk-OVMSGTSF.min.mjs";var X=document.querySelector.bind(document);var J=document.querySelectorAll.bind(document);var r=document.getElementById.bind(document);var B=document.createElement.bind(document);var k=document.createElementNS.bind(document);var Q=document.createAttribute.bind(document);var Y=document.createAttributeNS.bind(document);var E={x:"right",y:"top"};var p={loading_icon:"eclipse",dir:z(),role:"status",importance:"important",lifetime:5e3,animation_duration:300,automatically_close:true,close_button:{is_shown_on_hover:true,position:"right"},theme:"system",style:"glass"};var R=window.matchMedia("(prefers-reduced-motion)");function z(){let e=document.documentElement.getAttribute("dir");return e=="ltr"||e=="rtl"?e:e=="auto"||!e?window.getComputedStyle(document.documentElement).direction:"ltr"}l(z,"I");a(z,"get_dir");function C(e,t){return t?((!t.lifetime||t.lifetime<=0)&&(t.lifetime=p.lifetime),t.loading_icon||(t.loading_icon="eclipse"),R.matches?t.animation_duration=0:t.animation_duration!=0&&!t.animation_duration&&(t.animation_duration=p.animation_duration),t.importance||(e=="error"||e=="loading"||e=="success"||e=="warn"?t.importance="critical":t.importance="important"),t.role||(e=="error"||e=="loading"||e=="success"||e=="warn"?t.role="alert":t.role="status"),t.automatically_close==null&&e!="loading"&&(t.automatically_close=true),t.close_button?t.close_button.is_shown_on_hover==null?t.close_button.is_shown_on_hover=p.close_button.is_shown_on_hover:t.close_button.position==null?t.close_button.position=p.close_button.position:t.close_button.position!="left"&&t.close_button.position!="right"&&(t.close_button.position="right"):t.close_button=p.close_button,(!t.theme||t.theme!="dark"&&t.theme!="light"&&t.theme!="system")&&(t.theme=p.theme),(!t.dir||t.dir!="ltr"&&t.dir!="rtl")&&(t.dir=p.dir),(!t.style||t.style!="glass"&&t.style!="icons"&&t.style!="monochrome"&&t.style!="plain")&&(t.style=p.style),t):p}l(C,"E");a(C,"get_default");var F={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#39","/":"#x2F"};function f(e,t){return e!=null&&e!=null?e:t}l(f,"T");a(f,"non_nullish");var I=a(e=>String(e).replace(/[&<>"'/\\]/g,t=>`&${F[t]};`),"escapeHtml");function h(e,t){let i=B(e);for(let[s,o]of Object.entries(f(t,{})))if(s=="style")for(let[d,u]of Object.entries(o))i.style.setProperty(d,u);else s=="textContent"?i.appendChild(document.createTextNode(o.toString())):o==true?i.setAttribute(s,"true"):o!=false&&o!=null?typeof o=="string"&&i.setAttribute(s,I(o)):o==false&&i.removeAttribute(s);return i}l(h,"m");a(h,"create_element");function _(e){let t=k("http://www.w3.org/2000/svg","svg"),i=k("http://www.w3.org/2000/svg","path");for(let[s,o]of Object.entries(f(e,{})))if(s=="d")i.setAttribute(s,o.toString());else if(s=="style")for(let[d,u]of Object.entries(f(o,{})))t.style[d]=u;else t.setAttribute(s,o.toString());return t.appendChild(i),t}l(_,"f");a(_,"create_svg");var K=Object.freeze({"not important":"off",important:"polite",critical:"assertive"});var g={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 20 20",style:{width:"1rem",height:"1rem"}};function M(){return _({...g,d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z"})}l(M,"N");a(M,"warning_icon");function L(){return _({...g,d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z"})}l(L,"D");a(L,"info_icon");function S(){return _({...g,d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"})}l(S,"R");a(S,"success_icon");function P(){return _({...g,d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})}l(P,"q");a(P,"error_icon");function H(e="normal"){let t=h("div",{style:{width:"100%",height:"100%"}});switch(e){case"normal":import("./rolling-spinner-QT2RAF2I.min-7S4OPCOI.min.mjs").then(i=>{t.innerHTML=i.rolling_spinner});break;case"broken-flat":import("./flat-broken-spinner-RDTBSF2V.min-RKXUVAEV.min.mjs").then(i=>{t.innerHTML=i.flat_broken_spinner});break;case"broken-rounded":import("./rounded-broken-spinner-J3YHZ3XC.min-YTEHEPX2.min.mjs").then(i=>{t.innerHTML=i.rounded_broken_spinner});break;case"broken-straight":import("./straight-broken-spinner-U64S7VQX.min-K5DMXHPS.min.mjs").then(i=>{t.innerHTML=i.straight_broken_spinner});break;case"eclipse":import("./eclipse_spinner-GN2TDTNP.min-PO6GB5RE.min.mjs").then(i=>{t.innerHTML=i.eclipse_spinner});break;default:import("./rolling-spinner-QT2RAF2I.min-7S4OPCOI.min.mjs").then(i=>{t.innerHTML=i.rolling_spinner})}return t}l(H,"j");a(H,"loading_icon");function T(e,t){switch(e){case"error":return P();case"info":return L();case"loading":return H(t);case"success":return S();case"warn":return M()}}l(T,"g");a(T,"get_icon");var v=12;var U=3;var G=class{static{l(this,"y")}static{a(this,"Toast")}id;props;options;is_dismissed;type;idx;z_index;initial_height;offset;created_on;src_element;constructor(e,t,i,s,o,d,u){if(!r("toast-container")){console.error(new Error("Please mount the toast container first."));return}if(this.src_element=null,this.id=e,this.props=t,this.options=i,this.is_dismissed=s,this.type=o,this.idx=d,this.z_index=u,this.created_on=Date.now(),r("toast-container")){this.append_to_dom();let{packed_size:n,original_height:m}=j(this.src_element);r("toast-container").style.setProperty("--front-toast-height",n+"px"),this.src_element.style.setProperty("--toast-initial-height",n+"px"),this.initial_height=n,this.src_element.style.height=m,this.offset=0}}append_to_dom=()=>{let e=h("li",{dir:this.options.dir.toString(),"data-front-toast":true,"data-vanilla-toast":true,"data-dismissed":"false","data-theme":this.options.theme,"data-style":this.options.style,"data-type":this.type,id:`toast-${this.id}`,"aria-live":K[this.options.importance],"aria-atomic":true,style:{"--toast-index":this.idx+"","--z-index":this.z_index+"","--toast-transition-duration":this.options.animation_duration+"ms","--toast-gap":v+"px","--toast-offset":"0px"}}),t=h("div",{"data-close-button-container":"true","data-position":this.options.close_button.position,"data-show-on-hover":this.options.close_button.is_shown_on_hover+""}),i=h("button",{type:"button",id:`close-toast-${this.id}`,"data-close-button":"true","aria-controls":`toast-${this.id}`,"aria-pressed":"false","aria-label":"Close Notification Toast"}),s=h("div",{"data-text-container":"true"}),o=h("p",{textContent:this.props.message,id:`message-toast-${this.id}`}),d=new AbortController,u=d.signal;if(c.aborters.set(`toast-${this.id}`,d),this.src_element=e,i.addEventListener("click",()=>{r(`close-toast-${this.id}`).setAttribute("aria-pressed","true"),c.dismiss(this.id)},{once:true,signal:u}),this.type!="neutral"){let n=T(this.type,this.options.loading_icon),m=h("div",{"data-icon-container":"true",id:`icon-toast-${this.id}`});m.appendChild(n),this.src_element.append(m)}if(this.props.title){let n=h("h6",{textContent:this.props.title,id:`title-toast-${this.id}`,"data-title":"true"});s.append(n)}s.append(o),t.appendChild(i),this.src_element.append(s),this.src_element.append(t),r("toast-container").append(this.src_element),setTimeout(()=>{this.src_element.setAttribute("data-mounted","true")})};update_offset=()=>{this.src_element.style.setProperty("--toast-offset",this.offset+"px")};animate_out=()=>{this.src_element.setAttribute("data-dismissed",this.is_dismissed+"")};update_idx=()=>{this.idx>=U?(this.src_element.style.setProperty("--toast-opacity","0"),this.src_element.setAttribute("aria-hidden","true"),this.src_element.style.pointerEvents="none",this.src_element.style.touchAction="none"):this.is_dismissed||(this.src_element.style.setProperty("--toast-opacity","1"),this.src_element.setAttribute("aria-hidden","false"),this.src_element.style.pointerEvents="all",this.src_element.style.touchAction="auto"),this.idx==0&&(r("toast-container").style.setProperty("--front-toast-height",this.initial_height+"px"),r("toast-"+this.id).setAttribute("data-front-toast","true")),this.src_element.style.setProperty("--toast-index",this.idx+""),this.src_element.style.setProperty("--z-index",this.z_index+"")}};var w="abcdefghijklmnopqrstuvwxyz0123456789";function q(e=8){if(e<6)throw new Error("Please provide a string length that's greater than 6");if(e>16)throw new Error("Please provide a string length that's less than 16");let t="";for(let i=0;i<e;++i){let s=Math.floor(Math.random()*(w.length-1));Math.random()<.5?t+=w[s].toUpperCase():t+=w[s]}return t}l(q,"P");a(q,"gen_random_id");var V=class{static{l(this,"k")}static{a(this,"Store")}toasts;listeners;timers;listeners_length;aborters;constructor(){this.listeners_length=0,this.timers=new Map,this.toasts=new Map,this.listeners=new Map,this.aborters=new Map}listen=e=>{let t=this.listeners_length++;return this.listeners.set(t,e),a(()=>{this.listeners_length--,this.listeners.delete(t)},"cleanup")};update=(e,t)=>{for(let i of this.listeners.values())i(e,t)};create=(e,t,i="neutral")=>{let s=q();t=C(i,t);let o=this.toasts.size,d=new G(s,e,t,false,i,0,o);if(this.toasts.set(s,d),this.update(d,"add"),t.automatically_close){let u=setTimeout(()=>{this.dismiss(s)},t.lifetime-t.animation_duration);this.timers.set(`toast-${s}`,u)}return{toast_id:s}};dismiss=e=>{let t=this.toasts.get(e);t||console.error(new Error("Tried to remove a toast that does not exist!")),t.is_dismissed=true;let i=setTimeout(()=>{this.$remove_toast(e)},t.options.animation_duration);this.timers.set(`toast-animation-${e}`,i),this.toasts.delete(e),this.update(t,"remove"),this.update(t,"animate-out")};add_timer=(e,t,i)=>{let s=this.toasts.get(e);if(s){let o=setTimeout(()=>{this.dismiss(e)},t);i?s.created_on=i:s.created_on=Date.now()-s.created_on,this.timers.set(`toast-${e}`,o)}};remove_timer=e=>{let t=`toast-${e}`,i=`toast-animation-${e}`,s=this.timers.get(t),o=this.timers.get(i);clearTimeout(s),clearTimeout(o),this.timers.delete(t),this.timers.delete(i)};update_toast=(e,t,i="neutral",s)=>{if(!e)return;let o=this.toasts.get(e);if(o){if(o.options.automatically_close=true,o.props.message=t.message,r(`message-toast-${e}`).textContent=t.message,r(`toast-${e}`).setAttribute("data-type",i),o.props.title&&(o.props.title=t.title,r(`title-toast-${e}`).textContent=t.title),(!s||s.automatically_close==null||i!="loading")&&o.options.automatically_close==true,o.options.automatically_close&&i!="loading"&&o.type=="loading"&&this.add_timer(e,o.options.lifetime,Date.now()),o.type!="neutral"&&i=="neutral"){let d=r(`icon-toast-${e}`);d&&r(`toast-${e}`).removeChild(d)}if(o.type!=i){let d=r(`icon-toast-${e}`);d&&r(`toast-${e}`).removeChild(d);let u=T(i,s?.loading_icon||"normal");r(`toast-${e}`).prepend(u)}}};$remove_toast=e=>{let t=r(`toast-${e}`);r("toast-container").removeChild(t),this.remove_timer(e);let i=this.aborters.get(`toast-${e}`);i&&i.abort(),this.aborters.delete(`toast-${e}`)}};var c=new V;function x(e){return[...c.toasts.values()].reduce((t,i,s)=>s<=e.z_index?t:t+i.initial_height,0)}l(x,"A");a(x,"calculate_total_height_of_previous_toasts");function A(e,t,i){return Math.floor(e*t+i)}l(A,"M");a(A,"calculate_toast_offset");function j(e){let t=e.style.height;e.style.height="auto";let i=e.getBoundingClientRect().height;return{original_height:t,packed_size:i}}l(j,"O");a(j,"get_height");c.listen((e,t)=>{if(t=="add")for(let i of c.toasts.values()){if(e.id==i.id)continue;r("toast-"+i.id).setAttribute("data-front-toast","false");let s=x(i),o=A(++i.idx,v,s);i.offset=o,i.update_idx(),i.update_offset()}else if(t=="animate-out")e.animate_out();else if(t=="remove"){for(let i of c.toasts.values())if(r("toast-"+i.id).setAttribute("data-front-toast","false"),e.idx>i.idx&&(--i.z_index,i.update_idx()),e.idx<i.idx){let s=x(i),o=A(--i.idx,v,s);i.offset=o,i.update_idx(),i.update_offset()}}});function D(){let e=false,t=[],i=[];window.addEventListener("keydown",n=>{n.altKey?(n.key=="t"||n.key=="T")&&!e&&(e=true,d(o),r("toast-container").setAttribute("data-expanded","true")):e&&n.key=="Escape"&&(e=false,d(s),r("toast-container").setAttribute("data-expanded","false"))}),r("toast-container").addEventListener("pointerenter",()=>{e||(d(o),e=true,r("toast-container").setAttribute("data-expanded","true"))}),r("toast-container").addEventListener("pointerleave",()=>{e&&(d(s),e=false,r("toast-container").setAttribute("data-expanded","false"))});function s(){for(let n=t.length-1;n>=0;--n){let m=t[n];c.add_timer(m.toast_id,m.time_left,m.removed_on),t.pop()}}l(s,"a");a(s,"add_timers");function o(){for(let n of c.toasts.values())if(n.options.automatically_close){let m=n.options.lifetime-(Date.now()-n.created_on);m>=n.options.animation_duration&&(c.remove_timer(n.id),t.push({toast_id:n.id,time_left:m,removed_on:Date.now()}))}}l(o,"s");a(o,"remove_timers");function d(n){i.push(n),u()}l(d,"n");a(d,"enqueue");function u(){let n=i.shift();n&&n()}l(u,"d");a(u,"process_queue")}l(D,"z");a(D,"listen_to_page_events");function $(e){if(r("toast-section-container"))return;let t=h("section",{"aria-label":"Notifcations (Alt + T). Escape to unexpand.","data-toast-section-container":"true","data-testid":"toast-section-container",id:"toast-section-container"}),i=h("ol",{"data-expanded":e?.is_expanded_by_default!=null?e.is_expanded_by_default+"":"false","data-position-x":e?.position?.x||E.x,"data-position-y":e?.position?.y||E.y,"data-toast-container":"true","data-testid":"container",id:"toast-container","aria-describedby":"toast-section-heading"}),s=h("h6",{id:"toast-section-heading",textContent:"A section of notifications"});t.append(s),t.append(i),document.body.append(t),e?.is_expanded_by_default||D()}l($,"V");a($,"mount_toaster");var y={default:c.create,success(e,t){return c.create(e,t,"success")},error(e,t){return c.create(e,t,"error")},info(e,t){return c.create(e,t,"info")},warn(e,t){return c.create(e,t,"warn")},loading(e,t){return c.create(e,t,"loading")},async promise(e,...t){let{toast_id:i}=y.loading({message:"Loading..."});try{let s=await e(...t);return c.update_toast(i,{message:"Success!"},"success"),s}catch(s){return console.error(s),c.update_toast(i,{message:"Something went wrong!"},"error"),s}},dismiss:c.dismiss};$();var b=0;var N;var O;document.addEventListener("htmx:error",e=>{if(e instanceof CustomEvent){clearTimeout(N);b++;if(b>10){clearTimeout(O);y.error({message:"Wowza! Please slow down."},{theme:document.documentElement.dataset.theme||"light"});e.target.querySelectorAll("*").forEach(t=>{t.setAttribute("disabled","true")});O=setTimeout(()=>{e.target.querySelectorAll("*").forEach(t=>{t.removeAttribute("disabled");b=0})},1e4);return}N=setTimeout(()=>{b=0},1e4)}});document.addEventListener("htmx:responseError",e=>{console.log(e);if(e instanceof CustomEvent){const t=e.detail.xhr?.responseText||"Something went wrong.";y.error({message:t},{theme:document.documentElement.dataset.theme||"light"})}});
